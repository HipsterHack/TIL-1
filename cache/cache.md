# 캐시
* 캐시는 무거운 DB 쿼리(slow query나 응답시간이 느린 쿼리 ) 대신, 서버 메모리에 임시로 저장한다. 이렇게 DB 쿼리를 줄이는 방향으로 캐시를 만드는 것이 기본이다.

## 캐시 적용시 고려 요소
* 캐시 적용 할 시 고려할 요소는 성능적인 측면, 비즈니스 로직적 측면, 캐시 서버의 상태를 고려해야 한다.
* 이 세 요소를 모두 고려하면 캐시 범위와 캐시 시간을 정할 수 있다.
* 정석은 세가지 모두 고려 하는거지만 사짜로 빨리 적용해야 한다면 성능과 비즈니스 로직에 우선 신경을 쓰자.

## 성능
* 사용 중인 웹  페이지의 사용량(frequency)과 동시 접속자 수 
** 보통 가장 많이 진입하는 페이지 기준으로 캐시를 잡으면 된다.
* 로직에서 사용 중인 DB 쿼리의 평균 응답속도는? (MySQL 은 explain 을 통해서 본다)
* 한 페이지 당 사용 DB 쿼리 개수 
* 캐시 적용이 오바는 아닌가? (동시 접속자가 얼마 안되면 캐시 적용할 이유가 없다.)
**  Hit ratio 고려 캐시 Hit ratio가 50% 이하라면 특별히 효과를 못보고 있는 것이다. 
** 보통은 캐시 적용 후 모니터링 하고 계속 써야할지 여부를 결정 할 수 있다. (예상은 할 수 있다.)

## 비즈니스 로직 
* 실시간 데이터 필요 여부
* 전체 데이터의 sync 필요 여부

## 캐시 서버의 현재 상태 
* 캐시 서버로 사용중인 어플(redis, memcached, arcus등 )의 특성
* 캐시할 수 있는 메모리는 충분한가?
* 캐시 키는 현재 몇개 인가?
* 동적 캐시 키를 만들때 캐시 키가 몇개나 더 늘어나는가?
* 캐시를 적용했을 때 캐시 서버 메모리 사용량이 많이 늘어나는가?
