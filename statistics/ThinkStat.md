#Think Stat 1장#

## 프로그래머를 위한 통계적사고##

 
이 책에서 논의할 데이터를 지식으로 바꿔 주는 연금술은 3가지다.


- **확률Probability**- 임의의 사건을 표현하는 방법에 대한 연구. 이 개념을 어떻게 수치로 표현할까?를 알아본다
- **통계Statistics** - 모집단에 관한 주장을 뒷받침하기 위한 표본 데이터 구하는 분야
- **계산Computation** - 정량적 분석에 적합한 도구 확률이나 통계의 개념 이해해 중요함

## 첫아이는 예정일보다 늦게 태어날까?##

자기 의견을 증명하기 위해 아래 내용을 얘기하고는 한다.
> 최근에 첫아이를 출산한 친구들 두 명 다 예정일보다 2주나 지난 후에 자연 분만과 유도 분만으로
출산했다.

>첫아이가 예정일보다 2주 늦게 태어났으니, 둘째 아이는 예정일보다 2주 빨리 태어날 거다.

>우리 누나는 첫째지만 예정일보다 빨리 태어났고 내 사촌들도 마찬가지였으므로, 사실이 아니라고
생각한다.

## 위 토론의 문제점 ##

- 적은 관측 수Small number of observations

> 친구 두명

- 선택 편향Selection bias
> 첫아이를 예정일보다 늦게 출산했기 때문에 관심을 가졌을 것

- 확증 편향Confirmation bias
>논제를 믿는 사람들은 논제와 일치하는 예시를 드는 경향이 있고, 논제에 대해 의심
하는 사람들은 반대되는 예시를 드는 경향이 있다

- 부정확성Inaccuracy
>일화 형태로 제공한 증거들은 대부분 개인적인 경험에 바탕을 둔 증거들이다

## 통계적 접근 ##

일화 형태의 증거의 한계 극복을 위해 다음 도구를 사용한다

- 데이터 수집Data collection
	- 대규모 전국 조사
데이터를 사용
- 기술 통계Descriptive statistics
	- 간결하게 데이터를 요약하는 통계값들을 산출하고, 데이터를 시각화하는 여러 방법을 평가한다.
- 탐색적 자료 분석Exploratory data analysis
	- 논제 해결의 목적으로 데이터의 패턴, 차이, 특징, 한계, 모순점을 찾는다
- 가설 검정Hypothesis testing
- 추정Estimation
	- 샘플 데이터를 사용하여 전체 모집단의 특징을 추정한다

## 전미 가족 성장 조사 ###

> 1973년부터 미국 질병통제예방센터는 결혼, 이혼, 임신, 불임, 피임 여부, 남녀의 건강 상태 같은 가족생활 관련 정보를 얻기 위해
전미 가족 성장 조사National Survey of Family Growth, NSFG(이하 NSFG)’를 실시해 왔다

- 횡단면 연구cross-sectional study
	- 연구대상 자료 측정을 동일한 시점에 시행하는 경우
	- 3년의 조사 사이클로 동일한 시기(5월?)에 측정하는 경우
	- 횡단면 연구의 데이터는 대표성을 띤다. 표적 집단target population에 속한 모든 사람들이 동일한 기회를 가지고 연구에 참여한다고 전제한다.
- 종단면 연구longitudinal study
	- 대상을 반복적으로 측정한다

- over sampling
	- NSFG는 샘플링 데이터가 특정 집단(히스패닉, 흑인, 10대)이 각집단이 차지하는 비율이 모집단의 비율에 비해 높았다


## 테이블과 레코드  ##

- [http://thinkstats.com/nsfg.html](http://thinkstats.com/nsfg.html) 에서 데이터 파일을 받을 수 있다
- [http://thinkstats.com/survey.py](http://thinkstats.com/survey.py)
- 응답자 파일 
	- 레코드는 라인을 의미하며 각 라인은 응답자respondent 한 명의 정보이다
- survey.py
	- 테이블 : 테이블을 나타내는 객체다
	- Record 클래스는 ‘Respondent’와 ‘Pregnancy’라는 두 개의 하위 클래스를 가지고
있는데, 이 두 하위 클래스는 각각 응답자respondent와 임신pregnancy 테이블의 레코드를 가지고 있다
	- Table 클래스 또한 ‘Respondents’와 ‘Preganacies’ 두 개의 하위 클래스를 가지
고 있다. 
	- 각 클래스의 init 메소드는 데이터 파일의 초기 이름과 생성할 레코드의 형식
(타입)을 지정해 준다. 
	- Table 객체는 Record 객체들의 리스트인 ‘records’라는 속성
attirbute을 가지고 있다.
	- Table의 ‘GetFileds’ 메소드는 각 Record 객체에 속성으로 저장될 레코드
의 필드를 지정하는 튜플tuple의 리스트를 반환한다. 예를 들면 `('caseid', 1, 12, int),` 아래는 자세한 설명
		- field
			- 필드 값들이 저장될 속성명이다. 대부분 NSFG codebook에 있는 이름을 사용하였고 소문자로만 이루어져 있다.
		- start
			- 필드의 첫 번째 행을 나타내는 인덱스 값이다. 런 인덱스 값들에 관해서는 NSFG codebook에서 찾아 볼 수있다. [http://www.icpsr.umich.edu/webdocs/](http://www.icpsr.umich.edu/webdocs/)
		- end
			- 필드의 마지막 행을 나타내는 인덱스 값이다.
		- Conversion function
			- 문자열을 적절한 자료형으로 변환시킨다. 


- 데이터를 참고해서 보다보면 원본 데이터를 조작한 recode를 보게 되는데, 원본 데이터를 바탕으로 조정된 값이다.
- recode는 일관적이고 정확한 기준을 두어야 한다.

## 유의성 ##
- 겉보기 효과apparent effect란 두 그룹의 차이가 있는 것처럼 보이지만, 확신할 수는 없는 경우

> 두 그룹의 평균값이 다르다면, 중앙값이나 분산 같은 다른 요약 통계값들에도 차이가 있는가? 두 그룹
의 차이가 얼마 정도인지 좀 더 명확히 알 수 있는 방법은 없는가?

> 비교한 두 그룹이 실제로는 같은데, 이러한 차이는 우연히 발생할 수 있는가? 만약 그렇다면, 이 차이
는 통계적으로 유의하지 않다고 결론 내릴 수 있다.

> 겉보기 효과가 선택 편향이나 잘못된 실험 설계에 의해 발생할 수 있는가? 만약 그렇다면, 겉보기 효
과는 실험자에 의해 (의도치 않게) 생긴 인위적인 것이라고 할 수 있다.

## 데이터 구하기의 조언 ##

- Wolfram Alpha([http://wolframalpha.com](http://wolframalpha.com))
	- 단, 저작권이 있는 자료가 많다
- 논문이 있으면? 보통 연구 자료를 함께 올린다


## 통계를 배우는 방법 ##

- 관심있는 분야(관심 있는 주제나 사회적 통념과 논쟁, 또는 정치적 이슈 등)의 프로젝트를 진행하거나 조사하거나 연구해보고 싶은 주제가 있는가?
- 이런 주제에 질문을 던지고 통계적 조사가 가능하도록 그 질문을 명확하게 만들어야 한다. 
